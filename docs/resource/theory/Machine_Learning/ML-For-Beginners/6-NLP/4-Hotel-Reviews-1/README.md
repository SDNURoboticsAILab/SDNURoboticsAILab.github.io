# ä½¿ç”¨é…’åº—è¯„è®ºè¿›è¡Œæƒ…æ„Ÿåˆ†æ - æ•°æ®å¤„ç†

åœ¨æœ¬èŠ‚ä¸­ï¼Œä½ å°†ä½¿ç”¨å‰é¢è¯¾ç¨‹ä¸­ä»‹ç»çš„æŠ€æœ¯ï¼Œå¯¹ä¸€ä¸ªå¤§å‹æ•°æ®é›†è¿›è¡Œæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚ä¸€æ—¦ä½ å¯¹å„åˆ—æ•°æ®çš„ç”¨é€”æœ‰äº†å……åˆ†äº†è§£ï¼Œä½ å°†å­¦ä¹ ï¼š

- å¦‚ä½•åˆ é™¤ä¸å¿…è¦çš„åˆ—  
- å¦‚ä½•åŸºäºå·²æœ‰åˆ—è®¡ç®—å‡ºæ–°æ•°æ®  
- å¦‚ä½•ä¿å­˜å¤„ç†åçš„æ•°æ®é›†ï¼Œä»¥ä¾›æœ€ç»ˆæŒ‘æˆ˜ä½¿ç”¨  

## [è¯¾å‰æµ‹éªŒ](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/37/)

### ç®€ä»‹

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»äº†è§£åˆ°æ–‡æœ¬æ•°æ®ä¸æ•°å€¼å‹æ•°æ®æœ‰å¾ˆå¤§ä¸åŒã€‚å¦‚æœæ˜¯äººç±»ä¹¦å†™æˆ–å£è¿°çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œåˆ†æï¼Œæ‰¾å‡ºæ¨¡å¼ã€é¢‘ç‡ã€æƒ…æ„Ÿå’Œå«ä¹‰ã€‚æœ¬èŠ‚è¯¾å°†å¸¦ä½ æ¥è§¦ä¸€ä¸ªçœŸå®çš„æ•°æ®é›†å’Œä¸€ä¸ªå®é™…æŒ‘æˆ˜ï¼š**[æ¬§æ´² 515K é…’åº—è¯„è®ºæ•°æ®](https://www.kaggle.com/jiashenliu/515k-hotel-reviews-data-in-europe)**ï¼Œè¯¥æ•°æ®é›†é‡‡ç”¨[CC0ï¼šå…¬å…±é¢†åŸŸè®¸å¯](https://creativecommons.org/publicdomain/zero/1.0/)ã€‚æ•°æ®æ¥æºäºç¼¤å®¢ç½‘ï¼ˆ[Booking.com](https://booking.com/)ï¼‰çš„å…¬å¼€ä¿¡æ¯ï¼Œç”±åˆ˜ä½³ Shenï¼ˆJiashen Liuï¼‰åˆ›å»ºã€‚

### å‡†å¤‡å·¥ä½œ

* ä½ éœ€è¦ï¼š

  * èƒ½å¤Ÿä½¿ç”¨ Python 3 è¿è¡Œ .ipynb ç¬”è®°æœ¬æ–‡ä»¶  
  * pandas åº“  
  * NLTKï¼ˆ[ä½ åº”åœ¨æœ¬åœ°å®‰è£…](https://www.nltk.org/install.html)ï¼‰  
  * æ•°æ®é›†æ–‡ä»¶ï¼Œå¯åœ¨ Kaggle ä¸Šè·å–ï¼š[515K Hotel Reviews Data in Europe](https://www.kaggle.com/jiashenliu/515k-hotel-reviews-data-in-europe)ï¼Œè§£å‹åçº¦ä¸º 230 MBã€‚è¯·ä¸‹è½½å¹¶æ”¾ç½®åœ¨æœ¬è¯¾ç¨‹ç›¸å…³çš„ `/data` æ ¹ç›®å½•ä¸­ã€‚  

## æ¢ç´¢æ€§æ•°æ®åˆ†æ

æœ¬æŒ‘æˆ˜å‡è®¾ä½ æ­£åœ¨æ„å»ºä¸€ä¸ªç»“åˆæƒ…æ„Ÿåˆ†æå’Œå®¢äººè¯„è®ºè¯„åˆ†çš„é…’åº—æ¨èæœºå™¨äººã€‚ä½ å°†ä½¿ç”¨çš„æ•°æ®é›†åŒ…å« 6 ä¸ªåŸå¸‚çš„ 1493 å®¶ä¸åŒé…’åº—çš„è¯„è®ºã€‚

å€ŸåŠ© Pythonã€é…’åº—è¯„è®ºæ•°æ®é›†å’Œ NLTK çš„æƒ…æ„Ÿåˆ†æåŠŸèƒ½ï¼Œä½ å¯ä»¥æ‰¾å‡ºï¼š

* è¯„è®ºä¸­æœ€å¸¸ç”¨çš„è¯è¯­å’ŒçŸ­è¯­æ˜¯ä»€ä¹ˆï¼Ÿ
* æè¿°é…’åº—çš„å®˜æ–¹ â€œæ ‡ç­¾â€ ä¸è¯„è®ºåˆ†æ•°æ˜¯å¦ç›¸å…³ï¼ˆä¾‹å¦‚ï¼ŒæŸé…’åº—çš„è´Ÿé¢è¯„è®ºæ˜¯å¦æ›´å¤šæ¥è‡ª â€œå¸¦å°å­©çš„å®¶åº­â€ è€Œé â€œç‹¬è‡ªæ—…è¡Œè€…â€ï¼Œè¿™å¯èƒ½è¡¨æ˜è¯¥é…’åº—æ›´é€‚åˆ â€œç‹¬è‡ªæ—…è¡Œè€…â€ï¼‰ï¼Ÿ
* NLTK çš„æƒ…æ„Ÿè¯„åˆ†ä¸é…’åº—è¯„è®ºè€…çš„æ•°å€¼è¯„åˆ†æ˜¯å¦ â€œä¸€è‡´â€ï¼Ÿ

#### æ•°æ®é›†

è®©æˆ‘ä»¬æ¢ç´¢ä½ å·²ä¸‹è½½å¹¶ä¿å­˜åˆ°æœ¬åœ°çš„æ•°æ®é›†ã€‚ç”¨ VS Code ç”šè‡³ Excel ç­‰ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ã€‚

æ•°æ®é›†çš„æ ‡é¢˜å¦‚ä¸‹ï¼š

*Hotel_Addressï¼ˆé…’åº—åœ°å€ï¼‰ã€Additional_Number_of_Scoringï¼ˆé¢å¤–è¯„åˆ†æ•°é‡ï¼‰ã€Review_Dateï¼ˆè¯„è®ºæ—¥æœŸï¼‰ã€Average_Scoreï¼ˆå¹³å‡è¯„åˆ†ï¼‰ã€Hotel_Nameï¼ˆé…’åº—åç§°ï¼‰ã€Reviewer_Nationalityï¼ˆè¯„è®ºè€…å›½ç±ï¼‰ã€Negative_Reviewï¼ˆè´Ÿé¢è¯„è®ºï¼‰ã€Review_Total_Negative_Word_Countsï¼ˆè¯„è®ºè´Ÿé¢è¯æ±‡æ€»æ•°é‡ï¼‰ã€Total_Number_of_Reviewsï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰ã€Positive_Reviewï¼ˆæ­£é¢è¯„è®ºï¼‰ã€Review_Total_Positive_Word_Countsï¼ˆè¯„è®ºæ­£é¢è¯æ±‡æ€»æ•°é‡ï¼‰ã€Total_Number_of_Reviews_Reviewer_Has_Givenï¼ˆè¯„è®ºè€…ç»™å‡ºçš„æ€»è¯„è®ºæ•°é‡ï¼‰ã€Reviewer_Scoreï¼ˆè¯„è®ºè€…è¯„åˆ†ï¼‰ã€Tagsï¼ˆæ ‡ç­¾ï¼‰ã€days_since_reviewï¼ˆè·è¯„è®ºçš„å¤©æ•°ï¼‰ã€latï¼ˆçº¬åº¦ï¼‰ã€lngï¼ˆç»åº¦ï¼‰*

ä»¥ä¸‹æ˜¯æ›´ä¾¿äºæŸ¥çœ‹çš„åˆ†ç»„æ–¹å¼ï¼š
##### é…’åº—ç›¸å…³åˆ—

* `Hotel_Name`ï¼ˆé…’åº—åç§°ï¼‰ã€`Hotel_Address`ï¼ˆé…’åº—åœ°å€ï¼‰ã€`lat`ï¼ˆçº¬åº¦ï¼‰ã€`lng`ï¼ˆç»åº¦ï¼‰
  * å¯ä½¿ç”¨ *lat* å’Œ *lng* ç»˜åˆ¶é…’åº—åˆ†å¸ƒå›¾ï¼ˆå¯æ ¹æ®æ­£é¢/è´Ÿé¢è¯„è®ºè¿›è¡Œé¢œè‰²æ ‡æ³¨ï¼‰ 
  * `Hotel_Address` æš‚æ—¶æ— ç”¨ï¼Œä¹‹åå¯èƒ½æ›¿æ¢ä¸ºå›½å®¶ä»¥ä¾¿äºæ’åºå’Œæœç´¢  

##### **é…’åº—å…ƒè¯„è®ºåˆ—**

* `Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰
  
  * æ ¹æ®æ•°æ®é›†åˆ›å»ºè€…çš„è¯´æ˜ï¼Œè¯¥åˆ—æ˜¯ â€œåŸºäºè¿‡å»ä¸€å¹´æœ€æ–°è¯„è®ºè®¡ç®—çš„é…’åº—å¹³å‡è¯„åˆ†â€ã€‚è¿™ç§è®¡ç®—è¯„åˆ†çš„æ–¹å¼ä¼¼ä¹ä¸å¤ªå¸¸è§ï¼Œä½†è¿™æ˜¯æŠ“å–åˆ°çš„æ•°æ®ï¼Œç›®å‰æˆ‘ä»¬å§‘ä¸”æŒ‰å…¶è¡¨é¢æ„æ€ç†è§£ã€‚
  
  âœ… æ ¹æ®æ•°æ®ä¸­çš„å…¶ä»–åˆ—ï¼Œä½ èƒ½æƒ³åˆ°å¦ä¸€ç§è®¡ç®—å¹³å‡è¯„åˆ†çš„æ–¹æ³•å—ï¼Ÿ
  
* `Total_Number_of_Reviews`ï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰
  
  * è¯¥é…’åº—æ”¶åˆ°çš„æ€»è¯„è®ºæ•°é‡ â€”â€” ç›®å‰å°šä¸æ¸…æ¥šï¼ˆä¸ç¼–å†™ä»£ç çš„è¯ï¼‰è¿™æ˜¯å¦æŒ‡æ•°æ®é›†ä¸­çš„è¯„è®ºæ•°é‡ã€‚
* `Additional_Number_of_Scoring`ï¼ˆé¢å¤–è¯„åˆ†æ•°é‡ï¼‰
  
  * è¿™æŒ‡çš„æ˜¯æœ‰è¯„è®ºè€…ç»™å‡ºäº†è¯„åˆ†ï¼Œä½†æ²¡æœ‰å†™ä¸‹æ­£é¢æˆ–è´Ÿé¢è¯„è®ºã€‚

##### **è¯„è®ºç›¸å…³åˆ—**

- `Reviewer_Score`ï¼ˆè¯„è®ºè€…è¯„åˆ†ï¼‰
  - è¿™æ˜¯ä¸€ä¸ªæœ€å¤šä¿ç•™ 1 ä½å°æ•°çš„æ•°å€¼ï¼ŒèŒƒå›´åœ¨ 2.5 åˆ° 10 ä¹‹é—´
  - ç›®å‰ä¸æ¸…æ¥šä¸ºä»€ä¹ˆæœ€ä½è¯„åˆ†æ˜¯ 2.5
- `Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰
  - å¦‚æœè¯„è®ºè€…æœªå†™è´Ÿé¢å†…å®¹ï¼Œè¯¥å­—æ®µå°†æ˜¾ç¤º â€œ**No Negative**ï¼ˆæ— è´Ÿé¢å†…å®¹ï¼‰â€
  - æ³¨æ„ï¼Œè¯„è®ºè€…å¯èƒ½åœ¨è´Ÿé¢è¯„è®ºåˆ—ä¸­å†™æ­£é¢å†…å®¹ï¼ˆä¾‹å¦‚ï¼Œâ€œè¿™å®¶é…’åº—æ²¡æœ‰ä»»ä½•ä¸å¥½çš„åœ°æ–¹â€ï¼‰
- `Review_Total_Negative_Word_Counts`ï¼ˆè¯„è®ºè´Ÿé¢è¯æ±‡æ€»æ•°é‡ï¼‰
  - è´Ÿé¢è¯æ±‡æ•°é‡è¶Šå¤šï¼Œè¯„åˆ†å¯èƒ½è¶Šä½ï¼ˆä¸è€ƒè™‘æƒ…æ„Ÿå€¾å‘ï¼‰
- `Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰
  - å¦‚æœè¯„è®ºè€…æœªå†™æ­£é¢å†…å®¹ï¼Œè¯¥å­—æ®µå°†æ˜¾ç¤º â€œ**No Positive**ï¼ˆæ— æ­£é¢å†…å®¹ï¼‰â€
  - æ³¨æ„ï¼Œè¯„è®ºè€…å¯èƒ½åœ¨æ­£é¢è¯„è®ºåˆ—ä¸­å†™è´Ÿé¢å†…å®¹ï¼ˆä¾‹å¦‚ï¼Œâ€œè¿™å®¶é…’åº—æ ¹æœ¬æ²¡æœ‰ä»»ä½•å¥½çš„åœ°æ–¹â€ï¼‰
- `Review_Total_Positive_Word_Counts`ï¼ˆè¯„è®ºæ­£é¢è¯æ±‡æ€»æ•°é‡ï¼‰
  - æ­£é¢è¯æ±‡æ•°é‡è¶Šå¤šï¼Œè¯„åˆ†å¯èƒ½è¶Šé«˜ï¼ˆä¸è€ƒè™‘æƒ…æ„Ÿå€¾å‘ï¼‰
- `Review_Date`ï¼ˆè¯„è®ºæ—¥æœŸï¼‰å’Œ`days_since_review`ï¼ˆè·è¯„è®ºçš„å¤©æ•°ï¼‰
  - å¯ä»¥å¯¹è¯„è®ºåº”ç”¨æ–°é²œåº¦æˆ–é™ˆæ—§åº¦è¡¡é‡æ ‡å‡†ï¼ˆæ—§è¯„è®ºå¯èƒ½ä¸å¦‚æ–°è¯„è®ºå‡†ç¡®ï¼Œå› ä¸ºé…’åº—ç®¡ç†å±‚å¯èƒ½å·²æ›´æ¢ã€è¿›è¡Œè¿‡ç¿»æ–°æˆ–æ–°å¢äº†æ³³æ± ç­‰è®¾æ–½ï¼‰
- `Tags`ï¼ˆæ ‡ç­¾ï¼‰
  - è¿™äº›æ˜¯è¯„è®ºè€…å¯èƒ½é€‰æ‹©çš„ç®€çŸ­æè¿°ç¬¦ï¼Œç”¨äºè¯´æ˜ä»–ä»¬çš„å®¢äººç±»å‹ï¼ˆä¾‹å¦‚ï¼Œç‹¬è‡ªæ—…è¡Œæˆ–å®¶åº­æ—…è¡Œï¼‰ã€æˆ¿é—´ç±»å‹ã€åœç•™æ—¶é—´ä»¥åŠè¯„è®ºæäº¤çš„è®¾å¤‡ç±»å‹ã€‚
  - é—æ†¾çš„æ˜¯ï¼Œä½¿ç”¨è¿™äº›æ ‡ç­¾å­˜åœ¨é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢è®¨è®ºå…¶æœ‰ç”¨æ€§çš„éƒ¨åˆ†

**è¯„è®ºè€…ç›¸å…³åˆ—**

- `Total_Number_of_Reviews_Reviewer_Has_Given`ï¼ˆè¯„è®ºè€…ç»™å‡ºçš„æ€»è¯„è®ºæ•°é‡ï¼‰
  - è¿™å¯èƒ½æ˜¯æ¨èæ¨¡å‹ä¸­çš„ä¸€ä¸ªå› ç´ ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ èƒ½ç¡®å®šå‘è¡¨è¿‡æ•°ç™¾æ¡è¯„è®ºçš„é«˜äº§è¯„è®ºè€…æ›´å¯èƒ½ç»™å‡ºè´Ÿé¢è€Œéæ­£é¢è¯„ä»·ã€‚ç„¶è€Œï¼Œä»»ä½•ç‰¹å®šè¯„è®ºçš„è¯„è®ºè€…éƒ½æ²¡æœ‰å”¯ä¸€ä»£ç æ ‡è¯†ï¼Œå› æ­¤æ— æ³•ä¸ä¸€ç»„è¯„è®ºå…³è”ã€‚æœ‰ 30 ä½è¯„è®ºè€…å‘è¡¨äº† 100 æ¡æˆ–æ›´å¤šè¯„è®ºï¼Œä½†å¾ˆéš¾çœ‹å‡ºè¿™å¯¹æ¨èæ¨¡å‹æœ‰ä½•å¸®åŠ©ã€‚
- `Reviewer_Nationality`ï¼ˆè¯„è®ºè€…å›½ç±ï¼‰
  - æœ‰äº›äººå¯èƒ½è®¤ä¸ºï¼ŒæŸäº›å›½ç±çš„äººç”±äºæ°‘æ—å€¾å‘æ›´å¯èƒ½ç»™å‡ºæ­£é¢æˆ–è´Ÿé¢è¯„ä»·ã€‚åœ¨æ¨¡å‹ä¸­æ¤å…¥æ­¤ç±»è½¶äº‹è§‚ç‚¹æ—¶è¦è°¨æ…ã€‚è¿™äº›æ˜¯å›½å®¶ï¼ˆæœ‰æ—¶æ˜¯ç§æ—ï¼‰åˆ»æ¿å°è±¡ï¼Œæ¯ä½è¯„è®ºè€…éƒ½æ˜¯ç‹¬ç«‹çš„ä¸ªä½“ï¼Œå…¶è¯„è®ºåŸºäºè‡ªèº«ä½“éªŒã€‚è¿™ç§ä½“éªŒå¯èƒ½ç»è¿‡å¤šç§è§†è§’è¿‡æ»¤ï¼Œä¾‹å¦‚ä»–ä»¬ä¹‹å‰çš„é…’åº—ä½å®¿ç»å†ã€æ—…è¡Œè·ç¦»ä»¥åŠä¸ªäººæ€§æ ¼ã€‚è®¤ä¸ºä»–ä»¬çš„å›½ç±æ˜¯å½±å“è¯„è®ºè¯„åˆ†çš„åŸå› ï¼Œè¿™ä¸€è§‚ç‚¹éš¾ä»¥æˆç«‹ã€‚

##### ç¤ºä¾‹

| å¹³å‡è¯„åˆ†ï¼ˆAverage Scoreï¼‰ | æ€»è¯„è®ºæ•°é‡ï¼ˆTotal Number Reviewsï¼‰ | è¯„è®ºè€…è¯„åˆ†ï¼ˆReviewer Scoreï¼‰ | è´Ÿé¢è¯„è®ºï¼ˆNegative<br/>Reviewï¼‰ Reviewï¼‰                     | æ­£é¢è¯„è®ºï¼ˆPositive Reviewï¼‰          | æ ‡ç­¾ï¼ˆTagsï¼‰                       |
| ------------------------- | ---------------------------------- | ---------------------------- | :----------------------------------------------------------- | ------------------------------------ | ---------------------------------- |
| 7.8                       | 1945                               | 2.5                          | è¿™é‡Œç›®å‰ä¸æ˜¯é…’åº—ï¼Œè€Œæ˜¯ä¸€ä¸ªå»ºç­‘å·¥åœ°ã€‚æˆ‘é•¿é€”æ—…è¡Œååœ¨æˆ¿é—´ä¼‘æ¯å’Œå·¥ä½œæ—¶ï¼Œä»æ¸…æ™¨åˆ°å…¨å¤©éƒ½è¢«ä»¤äººæ— æ³•æ¥å—çš„æ–½å·¥å™ªéŸ³å›°æ‰°ã€‚æˆ‘è¦æ±‚æ¢æˆ¿ï¼Œä½†æ²¡æœ‰å®‰é™çš„æˆ¿é—´äº†ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œæˆ‘è¢«å¤šæ”¶è´¹äº†ã€‚å› ä¸ºè¦èµ¶æ—©ç­é£æœºï¼Œæˆ‘æ™šä¸Šå°±é€€æˆ¿äº†ï¼Œæ”¶åˆ°äº†åˆç†çš„è´¦å•ã€‚ä½†ä¸€å¤©åï¼Œé…’åº—åœ¨æœªç»æˆ‘åŒæ„çš„æƒ…å†µä¸‹åˆæ”¶å–äº†ä¸€ç¬”è´¹ç”¨ï¼Œè¶…è¿‡äº†é¢„è®¢ä»·æ ¼ã€‚è¿™åœ°æ–¹å¤ªç³Ÿç³•äº†ã€‚åˆ«è®¢è¿™é‡ŒæŠ˜ç£¨è‡ªå·±ã€‚ | å®Œå…¨æ²¡æœ‰ä¼˜ç‚¹ã€‚ç³Ÿç³•çš„åœ°æ–¹ï¼Œè¿œç¦»è¿™é‡Œã€‚ | å•†åŠ¡æ—…è¡Œ æƒ…ä¾£ æ ‡å‡†åŒäººé—´ ä½äº† 2 æ™š |

å¦‚ä½ æ‰€è§ï¼Œè¿™ä½å®¢äººåœ¨è¿™å®¶é…’åº—çš„ä½å®¿ä½“éªŒå¾ˆä¸æ„‰å¿«ã€‚è¯¥é…’åº—çš„å¹³å‡è¯„åˆ†ä¸º 7.8ï¼Œæœ‰ 1945 æ¡è¯„è®ºï¼Œä½†è¿™ä½è¯„è®ºè€…ç»™äº† 2.5 åˆ†ï¼Œå¹¶å†™äº† 115 ä¸ªå­—æè¿°å…¶ç³Ÿç³•çš„ä½å®¿ç»å†ã€‚å¦‚æœä»–ä»¬åœ¨æ­£é¢è¯„è®ºåˆ—ä¸­ä»€ä¹ˆéƒ½æ²¡å†™ï¼Œä½ å¯èƒ½ä¼šæ¨æµ‹æ²¡æœ‰æ­£é¢å†…å®¹ï¼Œä½†é—æ†¾çš„æ˜¯ä»–ä»¬å†™äº† 7 ä¸ªå­—çš„è­¦å‘Šã€‚å¦‚æœæˆ‘ä»¬åªè®¡ç®—å­—æ•°è€Œä¸è€ƒè™‘è¯è¯­çš„å«ä¹‰æˆ–æƒ…æ„Ÿï¼Œå¯èƒ½ä¼šè¯¯è§£è¯„è®ºè€…çš„æ„å›¾ã€‚å¥‡æ€ªçš„æ˜¯ï¼Œä»–ä»¬ç»™å‡º 2.5 åˆ†è®©äººå›°æƒ‘ï¼Œå› ä¸ºå¦‚æœä½å®¿ä½“éªŒå¦‚æ­¤ç³Ÿç³•ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç»™åˆ†å‘¢ï¼Ÿä»”ç»†ç ”ç©¶æ•°æ®é›†ä¼šå‘ç°ï¼Œæœ€ä½å¯èƒ½è¯„åˆ†æ˜¯ 2.5ï¼Œè€Œé 0ã€‚æœ€é«˜å¯èƒ½è¯„åˆ†æ˜¯ 10ã€‚

##### æ ‡ç­¾

å¦‚ä¸Šæ‰€è¿°ï¼Œä¹ä¸€çœ‹ï¼Œä½¿ç”¨`Tags`ï¼ˆæ ‡ç­¾ï¼‰å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»æ˜¯åˆç†çš„ã€‚ä½†é—æ†¾çš„æ˜¯ï¼Œè¿™äº›æ ‡ç­¾æ²¡æœ‰æ ‡å‡†åŒ–ï¼Œè¿™æ„å‘³ç€åœ¨æŸå®¶é…’åº—ä¸­ï¼Œé€‰é¡¹å¯èƒ½æ˜¯ â€œå•äººé—´â€â€œåŒåºŠé—´â€ å’Œ â€œåŒäººé—´â€ï¼Œè€Œåœ¨ä¸‹ä¸€å®¶é…’åº—ä¸­ï¼Œå¯èƒ½æ˜¯ â€œè±ªåå•äººé—´â€â€œç»å…¸å¤§åºŠæˆ¿â€ å’Œ â€œè¡Œæ”¿å¤§åºŠæˆ¿â€ã€‚è¿™äº›å¯èƒ½æŒ‡çš„æ˜¯åŒä¸€ç±»æˆ¿é—´ï¼Œä½†å˜ä½“å¤ªå¤šï¼Œå› æ­¤æœ‰ä¸¤ç§é€‰æ‹©ï¼š

1. å°è¯•å°†æ‰€æœ‰æœ¯è¯­ç»Ÿä¸€ä¸ºå•ä¸€æ ‡å‡†ï¼Œè¿™éå¸¸å›°éš¾ï¼Œå› ä¸ºä¸æ¸…æ¥šæ¯ç§æƒ…å†µä¸‹çš„è½¬æ¢è·¯å¾„ï¼ˆä¾‹å¦‚ï¼Œâ€œç»å…¸å•äººé—´â€ å¯å¯¹åº” â€œå•äººé—´â€ï¼Œä½† â€œå¸¦åº­é™¢èŠ±å›­æˆ–åŸå¸‚æ™¯è§‚çš„é«˜çº§å¤§åºŠæˆ¿â€ åˆ™å¾ˆéš¾å¯¹åº”ï¼‰

1. æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ NLP æ–¹æ³•ï¼Œè¡¡é‡æŸäº›æœ¯è¯­ï¼ˆå¦‚ â€œç‹¬è‡ªæ—…è¡Œâ€â€œå•†åŠ¡æ—…è¡Œè€…â€ æˆ– â€œå¸¦å°å­©çš„å®¶åº­â€ï¼‰åœ¨æ¯å®¶é…’åº—ä¸­çš„å‡ºç°é¢‘ç‡ï¼Œå¹¶å°†å…¶çº³å…¥æ¨èå› ç´ 


æ ‡ç­¾é€šå¸¸ï¼ˆä½†ä¸æ€»æ˜¯ï¼‰æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—æ®µï¼ŒåŒ…å« 5 åˆ° 6 ä¸ªé€—å·åˆ†éš”çš„å€¼ï¼Œå¯¹åº” â€œæ—…è¡Œç±»å‹â€â€œå®¢äººç±»å‹â€â€œæˆ¿é—´ç±»å‹â€â€œä½å®¿æ™šæ•°â€ å’Œ â€œè¯„è®ºæäº¤è®¾å¤‡ç±»å‹â€ã€‚ç„¶è€Œï¼Œç”±äºæœ‰äº›è¯„è®ºè€…æ²¡æœ‰å¡«å†™æ¯ä¸ªå­—æ®µï¼ˆå¯èƒ½ç•™ç©ºä¸€ä¸ªï¼‰ï¼Œè¿™äº›å€¼çš„é¡ºåºå¹¶ä¸æ€»æ˜¯ä¸€è‡´çš„ã€‚

ä¾‹å¦‚ï¼Œä»¥ â€œç¾¤ä½“ç±»å‹â€ ä¸ºä¾‹ã€‚`Tags`åˆ—ä¸­è¯¥å­—æ®µæœ‰ 1025 ç§ç‹¬ç‰¹çš„å¯èƒ½æ€§ï¼Œé—æ†¾çš„æ˜¯ï¼Œå…¶ä¸­åªæœ‰éƒ¨åˆ†æ¶‰åŠç¾¤ä½“ï¼ˆæœ‰äº›æ˜¯æˆ¿é—´ç±»å‹ç­‰ï¼‰ã€‚å¦‚æœåªç­›é€‰æåˆ° â€œå®¶åº­â€ çš„æ ‡ç­¾ï¼Œç»“æœä¼šåŒ…å«å¾ˆå¤š â€œå®¶åº­æˆ¿â€ ç±»å‹çš„ç»“æœã€‚å¦‚æœåŒ…å« â€œwithâ€ï¼ˆå¸¦ï¼‰è¿™ä¸ªè¯ï¼Œå³ç»Ÿè®¡ â€œFamily withâ€ï¼ˆå¸¦â€¦â€¦ çš„å®¶åº­ï¼‰çš„å€¼ï¼Œç»“æœä¼šæ›´å¥½ï¼Œåœ¨ 515,000 æ¡ç»“æœä¸­ï¼Œæœ‰è¶…è¿‡ 80,000 æ¡åŒ…å« â€œå¸¦å°å­©çš„å®¶åº­â€ æˆ– â€œå¸¦å¤§å­©å­çš„å®¶åº­â€ã€‚

è¿™æ„å‘³ç€æ ‡ç­¾åˆ—å¯¹æˆ‘ä»¬å¹¶éå®Œå…¨æ— ç”¨ï¼Œä½†éœ€è¦ä¸€äº›å¤„ç†æ‰èƒ½ä½¿å…¶æœ‰ç”¨ã€‚

##### é…’åº—å¹³å‡è¯„åˆ†

æ•°æ®é›†ä¸­å­˜åœ¨ä¸€äº›æˆ‘æ— æ³•è§£é‡Šçš„å¼‚å¸¸æˆ–ä¸ä¸€è‡´ä¹‹å¤„ï¼Œä½†åœ¨æ­¤è¯´æ˜ï¼Œä»¥ä¾¿ä½ åœ¨æ„å»ºæ¨¡å‹æ—¶æœ‰æ‰€äº†è§£ã€‚å¦‚æœä½ å¼„æ˜ç™½äº†ï¼Œæ¬¢è¿åœ¨è®¨è®ºåŒºå‘Šè¯‰æˆ‘ä»¬ï¼

æ•°æ®é›†ä¸­ä¸å¹³å‡è¯„åˆ†å’Œè¯„è®ºæ•°é‡ç›¸å…³çš„åˆ—å¦‚ä¸‹ï¼š

1. Hotel_Nameï¼ˆé…’åº—åç§°ï¼‰
2. Additional_Number_of_Scoringï¼ˆé¢å¤–è¯„åˆ†æ•°é‡ï¼‰
3. Average_Scoreï¼ˆå¹³å‡è¯„åˆ†ï¼‰
4. Total_Number_of_Reviewsï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰
5. Reviewer_Scoreï¼ˆè¯„è®ºè€…è¯„åˆ†ï¼‰

æ•°æ®é›†ä¸­è¯„è®ºæ•°é‡æœ€å¤šçš„é…’åº—æ˜¯ â€œä¸åˆ—é¢ å°¼äºšå›½é™…é…’åº—é‡‘ä¸é›€ç å¤´åº—ï¼ˆBritannia International Hotel Canary Wharfï¼‰â€ï¼Œåœ¨ 515,000 æ¡è¯„è®ºä¸­å  4789 æ¡ã€‚ä½†æŸ¥çœ‹è¯¥é…’åº—çš„`Total_Number_of_Reviews`ï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰å€¼ï¼Œæ˜¯ 9086ã€‚ä½ å¯èƒ½ä¼šæ¨æµ‹ï¼Œè¿˜æœ‰å¾ˆå¤šè¯„åˆ†æ²¡æœ‰å¯¹åº”çš„è¯„è®ºï¼Œå› æ­¤æˆ–è®¸åº”è¯¥åŠ ä¸Š`Additional_Number_of_Scoring`ï¼ˆé¢å¤–è¯„åˆ†æ•°é‡ï¼‰åˆ—çš„å€¼ã€‚è¯¥å€¼ä¸º 2682ï¼Œä¸ 4789 ç›¸åŠ å¾—åˆ° 7471ï¼Œä»æ¯”`Total_Number_of_Reviews`ï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰å°‘ 1615ã€‚

å¯¹äº`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰åˆ—ï¼Œä½ å¯èƒ½ä¼šæ¨æµ‹å®ƒæ˜¯æ•°æ®é›†ä¸­è¯„è®ºçš„å¹³å‡å€¼ï¼Œä½† Kaggle ä¸Šçš„æè¿°æ˜¯ â€œåŸºäºè¿‡å»ä¸€å¹´æœ€æ–°è¯„è®ºè®¡ç®—çš„é…’åº—å¹³å‡è¯„åˆ†â€ã€‚è¿™ä¼¼ä¹æ²¡ä»€ä¹ˆç”¨ï¼Œä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®æ•°æ®é›†ä¸­çš„è¯„è®ºè¯„åˆ†è®¡ç®—è‡ªå·±çš„å¹³å‡å€¼ã€‚ä»¥åŒä¸€å®¶é…’åº—ä¸ºä¾‹ï¼Œç»™å‡ºçš„é…’åº—å¹³å‡è¯„åˆ†ä¸º 7.1ï¼Œä½†è®¡ç®—å¾—å‡ºçš„åˆ†æ•°ï¼ˆæ•°æ®é›†ä¸­è¯„è®ºè€…è¯„åˆ†çš„å¹³å‡å€¼ï¼‰æ˜¯ 6.8ã€‚ä¸¤è€…æ¥è¿‘ä½†ä¸ç›¸åŒï¼Œæˆ‘ä»¬åªèƒ½çŒœæµ‹`Additional_Number_of_Scoring`ï¼ˆé¢å¤–è¯„åˆ†æ•°é‡ï¼‰ä¸­çš„è¯„åˆ†å°†å¹³å‡å€¼æé«˜åˆ°äº† 7.1ã€‚ä½†ç”±äºæ— æ³•æµ‹è¯•æˆ–è¯æ˜è¿™ä¸€æ–­è¨€ï¼Œå› æ­¤å¾ˆéš¾ä½¿ç”¨æˆ–ä¿¡ä»»`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰ã€`Additional_Number_of_Scoring`ï¼ˆé¢å¤–è¯„åˆ†æ•°é‡ï¼‰å’Œ`Total_Number_of_Reviews`ï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰ï¼Œå› ä¸ºå®ƒä»¬åŸºäºæˆ–æ¶‰åŠæˆ‘ä»¬æ²¡æœ‰çš„æ•°æ®ã€‚

æ›´å¤æ‚çš„æ˜¯ï¼Œè¯„è®ºæ•°é‡ç¬¬äºŒå¤šçš„é…’åº—è®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ä¸º 8.12ï¼Œè€Œæ•°æ®é›†ä¸­çš„`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰æ˜¯ 8.1ã€‚è¿™ä¸ªå‡†ç¡®çš„åˆ†æ•°æ˜¯å·§åˆè¿˜æ˜¯ç¬¬ä¸€å®¶é…’åº—çš„æ•°æ®å­˜åœ¨å·®å¼‚ï¼Ÿ 

è€ƒè™‘åˆ°è¿™äº›é…’åº—å¯èƒ½æ˜¯å¼‚å¸¸å€¼ï¼Œä¸”å¤§å¤šæ•°å€¼å¯èƒ½ä¸€è‡´ï¼ˆä½†æœ‰äº›ç”±äºæŸç§åŸå› ä¸ä¸€è‡´ï¼‰ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªç®€çŸ­çš„ç¨‹åºæ¥æ¢ç´¢æ•°æ®é›†ä¸­çš„å€¼ï¼Œä»¥ç¡®å®šè¿™äº›å€¼çš„æ­£ç¡®ç”¨æ³•ï¼ˆæˆ–ä¸ç”¨æ³•ï¼‰ã€‚

> ğŸš¨ æ³¨æ„äº‹é¡¹
>
> å¤„ç†æ­¤æ•°æ®é›†æ—¶ï¼Œä½ ä¼šç¼–å†™ä»£ç ä»æ–‡æœ¬ä¸­è®¡ç®—æŸäº›å†…å®¹ï¼Œè€Œæ— éœ€è‡ªå·±é˜…è¯»æˆ–åˆ†ææ–‡æœ¬ã€‚è¿™æ˜¯ NLP çš„æ ¸å¿ƒï¼Œå³æ— éœ€äººå·¥å¹²é¢„å³å¯è§£é‡Šå«ä¹‰æˆ–æƒ…æ„Ÿã€‚ç„¶è€Œï¼Œä½ å¯èƒ½ä¼šè¯»åˆ°ä¸€äº›è´Ÿé¢è¯„è®ºã€‚æˆ‘å»ºè®®ä½ ä¸è¦è¯»ï¼Œå› ä¸ºæ²¡å¿…è¦ã€‚æœ‰äº›è´Ÿé¢é…’åº—è¯„è®ºå¾ˆæ„šè ¢æˆ–æ— å…³ç´§è¦ï¼Œä¾‹å¦‚ â€œå¤©æ°”ä¸å¥½â€ï¼Œè¿™è¶…å‡ºäº†é…’åº—çš„æ§åˆ¶èŒƒå›´ï¼Œå®é™…ä¸Šä¹Ÿè¶…å‡ºäº†ä»»ä½•äººçš„æ§åˆ¶èŒƒå›´ã€‚ä½†æœ‰äº›è¯„è®ºä¹Ÿæœ‰é˜´æš—é¢ã€‚æœ‰æ—¶è´Ÿé¢è¯„è®ºå¸¦æœ‰ç§æ—ä¸»ä¹‰ã€æ€§åˆ«æ­§è§†æˆ–å¹´é¾„æ­§è§†è‰²å½©ã€‚è¿™å¾ˆä¸å¹¸ï¼Œä½†åœ¨ä»å…¬å…±ç½‘ç«™æŠ“å–çš„æ•°æ®é›†é‡Œæ˜¯å¯ä»¥é¢„æ–™åˆ°çš„ã€‚æœ‰äº›è¯„è®ºè€…ç•™ä¸‹çš„è¯„è®ºå¯èƒ½ä¼šè®©ä½ æ„Ÿåˆ°åæ„Ÿã€ä¸é€‚æˆ–ä¸å®‰ã€‚æœ€å¥½è®©ä»£ç æ¥è¡¡é‡æƒ…æ„Ÿï¼Œè€Œä¸æ˜¯è‡ªå·±é˜…è¯»è¿™äº›è¯„è®ºã€‚

## ç»ƒä¹  â€”â€” æ•°æ®æ¢ç´¢

### åŠ è½½æ•°æ®

ç°åœ¨å¯¹æ•°æ®çš„å¯è§†åŒ–æ£€æŸ¥å·²ç»è¶³å¤Ÿäº†ï¼Œæ¥ä¸‹æ¥ä½ å°†ç¼–å†™ä¸€äº›ä»£ç å¹¶è·å¾—ä¸€äº›ç­”æ¡ˆï¼æœ¬èŠ‚å°†ä½¿ç”¨ `pandas` åº“ã€‚ä½ çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯ç¡®ä¿ä½ èƒ½å¤ŸåŠ è½½å¹¶è¯»å– CSV æ•°æ®ã€‚`pandas` åº“æ‹¥æœ‰å¿«é€Ÿçš„ CSV åŠ è½½å™¨ï¼ŒåŠ è½½çš„ç»“æœä¼šè¢«å­˜å‚¨åœ¨ä¸€ä¸ª dataframeï¼ˆæ•°æ®æ¡†ï¼‰ä¸­ï¼Œå°±åƒå‰é¢çš„è¯¾ç¨‹ä¸€æ ·ã€‚æˆ‘ä»¬è¦åŠ è½½çš„è¿™ä¸ª CSV æ–‡ä»¶æœ‰è¶…è¿‡ 50 ä¸‡è¡Œï¼Œä½†åªæœ‰ 17 åˆ—ã€‚`pandas` ä¸ºä½ æä¾›äº†è®¸å¤šå¼ºå¤§çš„æ–¹å¼æ¥ä¸ dataframe äº¤äº’ï¼ŒåŒ…æ‹¬å¯ä»¥å¯¹æ¯ä¸€è¡Œæ‰§è¡Œæ“ä½œçš„èƒ½åŠ›

ä»æœ¬èŠ‚å¼€å§‹ï¼Œå°†ä¼šå‡ºç°ä¸€äº›ä»£ç ç‰‡æ®µã€å¯¹è¿™äº›ä»£ç çš„è§£é‡Šï¼Œä»¥åŠå…³äºç»“æœå«ä¹‰çš„è®¨è®ºã€‚è¯·åœ¨é™„å¸¦çš„ *notebook.ipynb* æ–‡ä»¶ä¸­ç¼–å†™ä½ çš„ä»£ç ã€‚

è®©æˆ‘ä»¬ä»åŠ è½½ä½ å°†è¦ä½¿ç”¨çš„æ•°æ®æ–‡ä»¶å¼€å§‹ï¼š

```python
# Load the hotel reviews from CSV
import pandas as pd
import time
# importing time so the start and end time can be used to calculate file loading time
print("Loading data file now, this could take a while depending on file size")
start = time.time()
# df is 'DataFrame' - make sure you downloaded the file to the data folder
df = pd.read_csv('../../data/Hotel_Reviews.csv')
end = time.time()
print("Loading took " + str(round(end - start, 2)) + " seconds")
```

æ•°æ®åŠ è½½å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶æ‰§è¡Œä¸€äº›æ“ä½œã€‚å°†æ­¤ä»£ç ä¿ç•™åœ¨ç¨‹åºé¡¶éƒ¨ï¼Œç”¨äºä¸‹ä¸€æ­¥æ“ä½œã€‚

## æ¢ç´¢æ•°æ®

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®å·²ç»æ˜¯ â€œå¹²å‡€çš„â€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ²¡æœ‰å…¶ä»–è¯­è¨€çš„å­—ç¬¦ï¼Œä¸ä¼šå¹²æ‰°æœŸæœ›åªå¤„ç†è‹±æ–‡å­—ç¬¦çš„ç®—æ³•ã€‚

âœ… ä½ å¯èƒ½éœ€è¦å¤„ç†ä¸€äº›åˆå§‹æ•°æ®ï¼Œåœ¨åº”ç”¨ NLP æŠ€æœ¯ä¹‹å‰éœ€è¦å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œä½†è¿™æ¬¡ä¸éœ€è¦ã€‚å¦‚æœéœ€è¦ï¼Œä½ ä¼šå¦‚ä½•å¤„ç†éè‹±æ–‡å­—ç¬¦ï¼Ÿ

èŠ±ç‚¹æ—¶é—´ç¡®ä¿æ•°æ®åŠ è½½åï¼Œä½ å¯ä»¥ç”¨ä»£ç æ¢ç´¢å®ƒã€‚å¾ˆå®¹æ˜“æƒ³ä¸“æ³¨äº`Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰å’Œ`Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰åˆ—ã€‚è¿™äº›åˆ—å……æ»¡äº†è‡ªç„¶æ–‡æœ¬ï¼Œå¯ä¾›ä½ çš„ NLP ç®—æ³•å¤„ç†ã€‚ä½†å…ˆåˆ«æ€¥ç€è¿›è¡Œ NLP å’Œæƒ…æ„Ÿåˆ†æï¼ä½ åº”è¯¥æŒ‰ç…§ä¸‹é¢çš„ä»£ç ï¼Œç¡®å®šæ•°æ®é›†ä¸­ç»™å‡ºçš„å€¼æ˜¯å¦ä¸ä½ ç”¨ pandas è®¡ç®—çš„å€¼ä¸€è‡´ã€‚

## æ•°æ®æ¡†æ“ä½œ

æœ¬èŠ‚è¯¾çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯é€šè¿‡ç¼–å†™ä»£ç æ£€æŸ¥æ•°æ®æ¡†ï¼ˆä¸ä¿®æ”¹å®ƒï¼‰ï¼ŒéªŒè¯ä»¥ä¸‹æ–­è¨€æ˜¯å¦æ­£ç¡®ã€‚

> ä¸è®¸å¤šç¼–ç¨‹ä»»åŠ¡ä¸€æ ·ï¼Œå®Œæˆè¿™é¡¹å·¥ä½œæœ‰å¤šç§æ–¹æ³•ï¼Œä½†å¥½çš„å»ºè®®æ˜¯ç”¨æœ€ç®€å•ã€æœ€å®¹æ˜“çš„æ–¹å¼å»åšï¼Œå°¤å…¶æ˜¯å½“ä½ å°†æ¥å›é¡¾è¿™æ®µä»£ç æ—¶ï¼Œæ›´å®¹æ˜“ç†è§£ã€‚å¯¹äºæ•°æ®æ¡†ï¼Œæœ‰ä¸€ä¸ªå…¨é¢çš„ APIï¼Œé€šå¸¸èƒ½é«˜æ•ˆåœ°å®Œæˆä½ æƒ³è¦åšçš„äº‹æƒ…ã€‚

å°†ä»¥ä¸‹é—®é¢˜è§†ä¸ºç¼–ç ä»»åŠ¡ï¼Œå°è¯•åœ¨ä¸æŸ¥çœ‹è§£å†³æ–¹æ¡ˆçš„æƒ…å†µä¸‹å›ç­”å®ƒä»¬ã€‚

1. æ‰“å°å‡ºä½ åˆšåˆšåŠ è½½çš„æ•°æ®æ¡†çš„ â€œå½¢çŠ¶â€ï¼ˆå½¢çŠ¶å³è¡Œæ•°å’Œåˆ—æ•°ï¼‰
2. è®¡ç®—è¯„è®ºè€…å›½ç±çš„é¢‘ç‡ï¼š
   1. `Reviewer_Nationality`ï¼ˆè¯„è®ºè€…å›½ç±ï¼‰åˆ—æœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
   2. æ•°æ®é›†ä¸­æœ€å¸¸è§çš„è¯„è®ºè€…å›½ç±æ˜¯ä»€ä¹ˆï¼ˆæ‰“å°å›½å®¶å’Œè¯„è®ºæ•°é‡ï¼‰ï¼Ÿ
   3. æ¥ä¸‹æ¥æœ€å¸¸è§çš„ 10 ä¸ªå›½ç±åŠå…¶é¢‘ç‡æ˜¯å¤šå°‘ï¼Ÿ
3. å¯¹äºå‰ 10 ä¸ªæœ€å¸¸è§çš„è¯„è®ºè€…å›½ç±ï¼Œæ¯ä¸ªå›½ç±è¯„è®ºæœ€å¤šçš„é…’åº—æ˜¯ä»€ä¹ˆï¼Ÿ
4. æ•°æ®é›†ä¸­æ¯å®¶é…’åº—æœ‰å¤šå°‘æ¡è¯„è®ºï¼ˆé…’åº—çš„é¢‘ç‡è®¡æ•°ï¼‰ï¼Ÿ
5. è™½ç„¶æ•°æ®é›†ä¸­æœ‰æ¯å®¶é…’åº—çš„`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰åˆ—ï¼Œä½†ä½ ä¹Ÿå¯ä»¥è®¡ç®—å¹³å‡è¯„åˆ†ï¼ˆæ±‚æ•°æ®é›†ä¸­æ¯å®¶é…’åº—æ‰€æœ‰è¯„è®ºè€…è¯„åˆ†çš„å¹³å‡å€¼ï¼‰ã€‚å‘æ•°æ®æ¡†ä¸­æ·»åŠ ä¸€ä¸ªæ–°åˆ—ï¼Œåˆ—æ ‡é¢˜ä¸º`Calc_Average_Score`ï¼ˆè®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ï¼‰ï¼Œå…¶ä¸­åŒ…å«è®¡ç®—å‡ºçš„å¹³å‡å€¼ã€‚
6. æ˜¯å¦æœ‰é…’åº—çš„`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰å’Œ`Calc_Average_Score`ï¼ˆè®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ï¼‰å››èˆäº”å…¥åˆ° 1 ä½å°æ•°åç›¸ç­‰ï¼Ÿ
   1. å°è¯•ç¼–å†™ä¸€ä¸ª Python å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ª Seriesï¼ˆè¡Œï¼‰ä½œä¸ºå‚æ•°ï¼Œæ¯”è¾ƒè¿™ä¸¤ä¸ªå€¼ï¼Œå¹¶åœ¨å€¼ä¸ç›¸ç­‰æ—¶æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚ç„¶åä½¿ç”¨`.apply()`æ–¹æ³•ç”¨è¯¥å‡½æ•°å¤„ç†æ¯ä¸€è¡Œã€‚
7. è®¡ç®—å¹¶æ‰“å°å‡º`Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Negativeâ€ï¼ˆæ— è´Ÿé¢å†…å®¹ï¼‰çš„è¡Œæ•°
8. è®¡ç®—å¹¶æ‰“å°å‡º`Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Positiveâ€ï¼ˆæ— æ­£é¢å†…å®¹ï¼‰çš„è¡Œæ•°
9. è®¡ç®—å¹¶æ‰“å°å‡º`Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Positiveâ€ï¼ˆæ— æ­£é¢å†…å®¹ï¼‰**ä¸”**`Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Negativeâ€ï¼ˆæ— è´Ÿé¢å†…å®¹ï¼‰çš„è¡Œæ•°
### ä»£ç ç­”æ¡ˆ

1. æ‰“å°å‡ºä½ åˆšåˆšåŠ è½½çš„æ•°æ®æ¡†çš„ â€œå½¢çŠ¶â€ï¼ˆå½¢çŠ¶å³è¡Œæ•°å’Œåˆ—æ•°ï¼‰

   ```python
   print("The shape of the data (rows, cols) is " + str(df.shape))
   > The shape of the data (rows, cols) is (515738, 17)
   ```

2. è®¡ç®—è¯„è®ºè€…å›½ç±çš„é¢‘ç‡ï¼š

   1. `Reviewer_Nationality`ï¼ˆè¯„è®ºè€…å›½ç±ï¼‰åˆ—æœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
   2. æ•°æ®é›†ä¸­æœ€å¸¸è§çš„è¯„è®ºè€…å›½ç±æ˜¯ä»€ä¹ˆï¼ˆæ‰“å°å›½å®¶å’Œè¯„è®ºæ•°é‡ï¼‰ï¼Ÿ

   ```python
   # value_counts() creates a Series object that has index and values in this case, the country and the frequency they occur in reviewer nationality
   nationality_freq = df["Reviewer_Nationality"].value_counts()
   print("There are " + str(nationality_freq.size) + " different nationalities")
   # print first and last rows of the Series. Change to nationality_freq.to_string() to print all of the data
   print(nationality_freq) 
   
   There are 227 different nationalities
    United Kingdom               245246
    United States of America      35437
    Australia                     21686
    Ireland                       14827
    United Arab Emirates          10235
                                  ...  
    Comoros                           1
    Palau                             1
    Northern Mariana Islands          1
    Cape Verde                        1
    Guinea                            1
   Name: Reviewer_Nationality, Length: 227, dtype: int64
   ```

   3. æ¥ä¸‹æ¥æœ€å¸¸è§çš„ 10 ä¸ªå›½ç±åŠå…¶é¢‘ç‡æ˜¯å¤šå°‘ï¼Ÿ

      ```python
      print("The highest frequency reviewer nationality is " + str(nationality_freq.index[0]).strip() + " with " + str(nationality_freq[0]) + " reviews.")
      # Notice there is a leading space on the values, strip() removes that for printing
      # What is the top 10 most common nationalities and their frequencies?
      print("The next 10 highest frequency reviewer nationalities are:")
      print(nationality_freq[1:11].to_string())
      
      The highest frequency reviewer nationality is United Kingdom with 245246 reviews.
      The next 10 highest frequency reviewer nationalities are:
       United States of America     35437
       Australia                    21686
       Ireland                      14827
       United Arab Emirates         10235
       Saudi Arabia                  8951
       Netherlands                   8772
       Switzerland                   8678
       Germany                       7941
       Canada                        7894
       France                        7296
      ```

3. å¯¹äºå‰ 10 ä¸ªæœ€å¸¸è§çš„è¯„è®ºè€…å›½ç±ï¼Œæ¯ä¸ªå›½ç±è¯„è®ºæœ€å¤šçš„é…’åº—æ˜¯ä»€ä¹ˆï¼Ÿ

   ```python
   # What was the most frequently reviewed hotel for the top 10 nationalities
   # Normally with pandas you will avoid an explicit loop, but wanted to show creating a new dataframe using criteria (don't do this with large amounts of data because it could be very slow)
   for nat in nationality_freq[:10].index:
      # First, extract all the rows that match the criteria into a new dataframe
      nat_df = df[df["Reviewer_Nationality"] == nat]   
      # Now get the hotel freq
      freq = nat_df["Hotel_Name"].value_counts()
      print("The most reviewed hotel for " + str(nat).strip() + " was " + str(freq.index[0]) + " with " + str(freq[0]) + " reviews.") 
      
   The most reviewed hotel for United Kingdom was Britannia International Hotel Canary Wharf with 3833 reviews.
   The most reviewed hotel for United States of America was Hotel Esther a with 423 reviews.
   The most reviewed hotel for Australia was Park Plaza Westminster Bridge London with 167 reviews.
   The most reviewed hotel for Ireland was Copthorne Tara Hotel London Kensington with 239 reviews.
   The most reviewed hotel for United Arab Emirates was Millennium Hotel London Knightsbridge with 129 reviews.
   The most reviewed hotel for Saudi Arabia was The Cumberland A Guoman Hotel with 142 reviews.
   The most reviewed hotel for Netherlands was Jaz Amsterdam with 97 reviews.
   The most reviewed hotel for Switzerland was Hotel Da Vinci with 97 reviews.
   The most reviewed hotel for Germany was Hotel Da Vinci with 86 reviews.
   The most reviewed hotel for Canada was St James Court A Taj Hotel London with 61 reviews.
   ```

4. æ•°æ®é›†ä¸­æ¯å®¶é…’åº—æœ‰å¤šå°‘æ¡è¯„è®ºï¼ˆé…’åº—çš„é¢‘ç‡è®¡æ•°ï¼‰ï¼Ÿ

   ```python
   # First create a new dataframe based on the old one, removing the uneeded columns
   hotel_freq_df = df.drop(["Hotel_Address", "Additional_Number_of_Scoring", "Review_Date", "Average_Score", "Reviewer_Nationality", "Negative_Review", "Review_Total_Negative_Word_Counts", "Positive_Review", "Review_Total_Positive_Word_Counts", "Total_Number_of_Reviews_Reviewer_Has_Given", "Reviewer_Score", "Tags", "days_since_review", "lat", "lng"], axis = 1)
   
   # Group the rows by Hotel_Name, count them and put the result in a new column Total_Reviews_Found
   hotel_freq_df['Total_Reviews_Found'] = hotel_freq_df.groupby('Hotel_Name').transform('count')
   
   # Get rid of all the duplicated rows
   hotel_freq_df = hotel_freq_df.drop_duplicates(subset = ["Hotel_Name"])
   display(hotel_freq_df) 
   ```
   |                 Hotel_Name                 | Total_Number_of_Reviews | Total_Reviews_Found |
   | :----------------------------------------: | :---------------------: | :-----------------: |
   | Britannia International Hotel Canary Wharf |          9086           |        4789         |
   |    Park Plaza Westminster Bridge London    |          12158          |        4169         |
   |   Copthorne Tara Hotel London Kensington   |          7105           |        3578         |
   |                    ...                     |           ...           |         ...         |
   |       Mercure Paris Porte d Orleans        |           110           |         10          |
   |                Hotel Wagner                |           135           |         10          |
   |            Hotel Gallitzinberg             |           173           |          8          |

   ä½ å¯èƒ½ä¼šæ³¨æ„åˆ° â€œæ•°æ®é›†ä¸­è®¡æ•°çš„ç»“æœâ€ ä¸`Total_Number_of_Reviews`ï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰ä¸­çš„å€¼ä¸åŒ¹é…ã€‚ç›®å‰ä¸æ¸…æ¥šæ•°æ®é›†ä¸­çš„è¿™ä¸ªå€¼æ˜¯å¦ä»£è¡¨é…’åº—æ”¶åˆ°çš„æ€»è¯„è®ºæ•°é‡ï¼Œä½†å¹¶éæ‰€æœ‰è¯„è®ºéƒ½è¢«æŠ“å–ï¼Œæˆ–è€…æ˜¯å…¶ä»–è®¡ç®—æ–¹å¼ã€‚ç”±äºè¿™ç§ä¸ç¡®å®šæ€§ï¼Œæ¨¡å‹ä¸­ä¸ä½¿ç”¨`Total_Number_of_Reviews`ï¼ˆæ€»è¯„è®ºæ•°é‡ï¼‰ã€‚

5. è™½ç„¶æ•°æ®é›†ä¸­æœ‰æ¯å®¶é…’åº—çš„`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰åˆ—ï¼Œä½†ä½ ä¹Ÿå¯ä»¥è®¡ç®—å¹³å‡è¯„åˆ†ï¼ˆæ±‚æ•°æ®é›†ä¸­æ¯å®¶é…’åº—æ‰€æœ‰è¯„è®ºè€…è¯„åˆ†çš„å¹³å‡å€¼ï¼‰ã€‚å‘æ•°æ®æ¡†ä¸­æ·»åŠ ä¸€ä¸ªæ–°åˆ—ï¼Œåˆ—æ ‡é¢˜ä¸º`Calc_Average_Score`ï¼ˆè®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ï¼‰ã€‚æ‰“å°å‡º`Hotel_Name`ï¼ˆé…’åº—åç§°ï¼‰ã€`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰å’Œ`Calc_Average_Score`ï¼ˆè®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ï¼‰åˆ—ã€‚

   ```python
   # define a function that takes a row and performs some calculation with it
   def get_difference_review_avg(row):
     return row["Average_Score"] - row["Calc_Average_Score"]
   
   # 'mean' is mathematical word for 'average'
   df['Calc_Average_Score'] = round(df.groupby('Hotel_Name').Reviewer_Score.transform('mean'), 1)
   
   # Add a new column with the difference between the two average scores
   df["Average_Score_Difference"] = df.apply(get_difference_review_avg, axis = 1)
   
   # Create a df without all the duplicates of Hotel_Name (so only 1 row per hotel)
   review_scores_df = df.drop_duplicates(subset = ["Hotel_Name"])
   
   # Sort the dataframe to find the lowest and highest average score difference
   review_scores_df = review_scores_df.sort_values(by=["Average_Score_Difference"])
   
   display(review_scores_df[["Average_Score_Difference", "Average_Score", "Calc_Average_Score", "Hotel_Name"]])
   ```

   ä½ å¯èƒ½è¿˜æƒ³çŸ¥é“`Average_Score`ï¼ˆå¹³å‡è¯„åˆ†ï¼‰çš„å€¼ï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒæœ‰æ—¶ä¸è®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ä¸åŒã€‚ç”±äºæˆ‘ä»¬ä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰äº›å€¼åŒ¹é…ï¼Œè€Œå¦ä¸€äº›å€¼å­˜åœ¨å·®å¼‚ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å®‰å…¨çš„åšæ³•æ˜¯ä½¿ç”¨æˆ‘ä»¬æ‹¥æœ‰çš„è¯„è®ºè¯„åˆ†è‡ªå·±è®¡ç®—å¹³å‡å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå·®å¼‚é€šå¸¸å¾ˆå°ï¼Œä»¥ä¸‹æ˜¯ä¸æ•°æ®é›†å¹³å‡å€¼å’Œè®¡ç®—å¾—å‡ºçš„å¹³å‡å€¼åå·®æœ€å¤§çš„é…’åº—ï¼š

   | Average_Score_Difference | Average_Score | Calc_Average_Score |                                  Hotel_Name |
   | :----------------------: | :-----------: | :----------------: | ------------------------------------------: |
   |           -0.8           |      7.7      |        8.5         |                  Best Western Hotel Astoria |
   |           -0.7           |      8.8      |        9.5         | Hotel Stendhal Place Vend me Paris MGallery |
   |           -0.7           |      7.5      |        8.2         |               Mercure Paris Porte d Orleans |
   |           -0.7           |      7.9      |        8.6         |             Renaissance Paris Vendome Hotel |
   |           -0.5           |      7.0      |        7.5         |                         Hotel Royal Elys es |
   |           ...            |      ...      |        ...         |                                         ... |
   |           0.7            |      7.5      |        6.8         |     Mercure Paris Op ra Faubourg Montmartre |
   |           0.8            |      7.1      |        6.3         |      Holiday Inn Paris Montparnasse Pasteur |
   |           0.9            |      6.8      |        5.9         |                               Villa Eugenie |
   |           0.9            |      8.6      |        7.7         |   MARQUIS Faubourg St Honor Relais Ch teaux |
   |           1.3            |      7.2      |        5.9         |                          Kube Hotel Ice Bar |

   åªæœ‰ 1 å®¶é…’åº—çš„è¯„åˆ†å·®å€¼å¤§äº 1ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯èƒ½å¯ä»¥å¿½ç•¥è¿™ç§å·®å¼‚ï¼Œä½¿ç”¨è®¡ç®—å¾—å‡ºçš„å¹³å‡è¯„åˆ†ã€‚

6. è®¡ç®—å¹¶æ‰“å°å‡º`Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Negativeâ€ï¼ˆæ— è´Ÿé¢å†…å®¹ï¼‰çš„è¡Œæ•°

7. è®¡ç®—å¹¶æ‰“å°å‡º`Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Positiveâ€ï¼ˆæ— æ­£é¢å†…å®¹ï¼‰çš„è¡Œæ•°

8. è®¡ç®—å¹¶æ‰“å°å‡º`Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Positiveâ€ï¼ˆæ— æ­£é¢å†…å®¹ï¼‰**ä¸”**`Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Negativeâ€ï¼ˆæ— è´Ÿé¢å†…å®¹ï¼‰çš„è¡Œæ•°

   ```python
   # with lambdas:
   start = time.time()
   no_negative_reviews = df.apply(lambda x: True if x['Negative_Review'] == "No Negative" else False , axis=1)
   print("Number of No Negative reviews: " + str(len(no_negative_reviews[no_negative_reviews == True].index)))
   
   no_positive_reviews = df.apply(lambda x: True if x['Positive_Review'] == "No Positive" else False , axis=1)
   print("Number of No Positive reviews: " + str(len(no_positive_reviews[no_positive_reviews == True].index)))
   
   both_no_reviews = df.apply(lambda x: True if x['Negative_Review'] == "No Negative" and x['Positive_Review'] == "No Positive" else False , axis=1)
   print("Number of both No Negative and No Positive reviews: " + str(len(both_no_reviews[both_no_reviews == True].index)))
   end = time.time()
   print("Lambdas took " + str(round(end - start, 2)) + " seconds")
   
   Number of No Negative reviews: 127890
   Number of No Positive reviews: 35946
   Number of both No Negative and No Positive reviews: 127
   Lambdas took 9.64 seconds
   ```

## å¦ä¸€ç§æ–¹æ³•

ä¸ä½¿ç”¨ lambda å‡½æ•°ï¼Œä½¿ç”¨ sum æ¥è®¡æ•°è¡Œçš„å¦ä¸€ç§æ–¹æ³•ï¼š

   ```python
   # without lambdas (using a mixture of notations to show you can use both)
   start = time.time()
   no_negative_reviews = sum(df.Negative_Review == "No Negative")
   print("Number of No Negative reviews: " + str(no_negative_reviews))
   
   no_positive_reviews = sum(df["Positive_Review"] == "No Positive")
   print("Number of No Positive reviews: " + str(no_positive_reviews))
   
   both_no_reviews = sum((df.Negative_Review == "No Negative") & (df.Positive_Review == "No Positive"))
   print("Number of both No Negative and No Positive reviews: " + str(both_no_reviews))
   
   end = time.time()
   print("Sum took " + str(round(end - start, 2)) + " seconds")
   
   Number of No Negative reviews: 127890
   Number of No Positive reviews: 35946
   Number of both No Negative and No Positive reviews: 127
   Sum took 0.19 seconds
   ```

ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæœ‰ 127 è¡Œçš„`Negative_Review`ï¼ˆè´Ÿé¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Negativeâ€ï¼ˆæ— è´Ÿé¢å†…å®¹ï¼‰ï¼Œä¸”`Positive_Review`ï¼ˆæ­£é¢è¯„è®ºï¼‰åˆ—å€¼ä¸º â€œNo Positiveâ€ï¼ˆæ— æ­£é¢å†…å®¹ï¼‰ã€‚è¿™æ„å‘³ç€è¯„è®ºè€…ç»™äº†é…’åº—ä¸€ä¸ªæ•°å€¼è¯„åˆ†ï¼Œä½†æ²¡æœ‰å†™ä»»ä½•æ­£é¢æˆ–è´Ÿé¢è¯„è®ºã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™æ ·çš„è¡Œæ•°é‡å¾ˆå°‘ï¼ˆ515738 è¡Œä¸­çš„ 127 è¡Œï¼Œå³ 0.02%ï¼‰ï¼Œå› æ­¤å¯èƒ½ä¸ä¼šä½¿æˆ‘ä»¬çš„æ¨¡å‹æˆ–ç»“æœäº§ç”Ÿåå·®ï¼Œä½†å€¼å¾—æ¢ç´¢æ•°æ®ä»¥å‘ç°è¿™æ ·çš„è¡Œã€‚

ç°åœ¨ä½ å·²ç»æ¢ç´¢äº†æ•°æ®é›†ï¼Œä¸‹ä¸€èŠ‚è¯¾ä½ å°†è¿‡æ»¤æ•°æ®å¹¶æ·»åŠ ä¸€äº›æƒ…æ„Ÿåˆ†æã€‚

---
## ğŸš€æŒ‘æˆ˜

æœ¬èŠ‚è¯¾å±•ç¤ºäº†ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­çœ‹åˆ°çš„ï¼Œåœ¨å¯¹æ•°æ®æ‰§è¡Œæ“ä½œä¹‹å‰ï¼Œäº†è§£ä½ çš„æ•°æ®åŠå…¶ç¼ºé™·æ˜¯è‡³å…³é‡è¦çš„ã€‚ç‰¹åˆ«æ˜¯åŸºäºæ–‡æœ¬çš„æ•°æ®ï¼Œéœ€è¦ä»”ç»†æ£€æŸ¥ã€‚æ·±å…¥ç ”ç©¶å„ç§æ–‡æœ¬å¯†é›†å‹æ•°æ®é›†ï¼Œçœ‹çœ‹ä½ èƒ½å¦å‘ç°å¯èƒ½ç»™æ¨¡å‹å¸¦æ¥åå·®æˆ–æƒ…æ„Ÿå€¾æ–œçš„åœ°æ–¹ã€‚

## [è¯¾åæµ‹éªŒ](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/38/)

## å¤ä¹ ä¸è‡ªå­¦

å­¦ä¹ [è¿™ä¸ª NLP å­¦ä¹ è·¯å¾„](https://docs.microsoft.com/learn/paths/explore-natural-language-processing/?WT.mc_id=academic-77952-leestott)ï¼Œäº†è§£æ„å»ºè¯­éŸ³å’Œæ–‡æœ¬å¯†é›†å‹æ¨¡å‹æ—¶å¯ä»¥å°è¯•çš„å·¥å…·ã€‚

## ä½œä¸š

[NLTK](assignment.md)
